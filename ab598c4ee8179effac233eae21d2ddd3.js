!function(e){if(!(void 0!==e.window&&e.document||e.require&&e.define)){e.console||(e.console=function(){var e=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:e})},e.console.error=e.console.warn=e.console.log=e.console.trace=e.console),e.window=e,e.ace=e,e.onerror=function(e,n,r,o,i){postMessage({type:"error",data:{message:e,data:i&&i.data,file:n,line:r,col:o,stack:i&&i.stack}})},e.normalizeModule=function(n,r){if(-1!==r.indexOf("!")){var o=r.split("!");return e.normalizeModule(n,o[0])+"!"+e.normalizeModule(n,o[1])}if("."==r.charAt(0)){var i=n.split("/").slice(0,-1).join("/");for(r=(i?i+"/":"")+r;-1!==r.indexOf(".")&&a!=r;){var a=r;r=r.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return r},e.require=function require(n,r){if(r||(r=n,n=null),!r.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");r=e.normalizeModule(n,r);var o=e.require.modules[r];if(o)return o.initialized||(o.initialized=!0,o.exports=o.factory().exports),o.exports;if(!e.require.tlns)return console.log("unable to load "+r);var i=resolveModuleId(r,e.require.tlns);return".js"!=i.slice(-3)&&(i+=".js"),e.require.id=r,e.require.modules[r]={},importScripts(i),e.require(n,r)},e.require.modules={},e.require.tlns={},e.define=function(n,r,o){if(2==arguments.length?(o=r,"string"!=typeof n&&(r=n,n=e.require.id)):1==arguments.length&&(o=n,r=[],n=e.require.id),"function"==typeof o){r.length||(r=["require","exports","module"]);var req=function(r){return e.require(n,r)};e.require.modules[n]={exports:{},factory:function(){var e=this,n=o.apply(this,r.slice(0,o.length).map((function(n){switch(n){case"require":return req;case"exports":return e.exports;case"module":return e;default:return req(n)}})));return n&&(e.exports=n),e}}}else e.require.modules[n]={exports:o,initialized:!0}},e.define.amd={},e.require.tlns={},e.initBaseUrls=function initBaseUrls(e){for(var n in e)this.require.tlns[n]=e[n]},e.initSender=function initSender(){var n=e.require("ace/lib/event_emitter").EventEmitter,r=e.require("ace/lib/oop"),Sender=function(){};return function(){r.implement(this,n),this.callback=function(e,n){postMessage({type:"call",id:n,data:e})},this.emit=function(e,n){postMessage({type:"event",name:e,data:n})}}.call(Sender.prototype),new Sender};var n=e.main=null,r=e.sender=null;e.onmessage=function(o){var i=o.data;if(i.event&&r)r._signal(i.event,i.data);else if(i.command)if(n[i.command])n[i.command].apply(n,i.args);else{if(!e[i.command])throw new Error("Unknown command:"+i.command);e[i.command].apply(e,i.args)}else if(i.init){e.initBaseUrls(i.tlns),r=e.sender=e.initSender();var a=this.require(i.module)[i.classname];n=e.main=new a(r)}}}function resolveModuleId(e,n){for(var r=e,o="";r;){var i=n[r];if("string"==typeof i)return i+o;if(i)return i.location.replace(/\/*$/,"/")+(o||i.main||i.name);if(!1===i)return"";var a=r.lastIndexOf("/");if(-1===a)break;o=r.substr(a)+o,r=r.slice(0,a)}return e}}(this),ace.define("ace/lib/oop",[],(function(e,n,r){"use strict";n.inherits=function(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(e,n){for(var r in n)e[r]=n[r];return e},n.implement=function(e,r){n.mixin(e,r)}})),ace.define("ace/lib/lang",[],(function(e,n,r){"use strict";n.last=function(e){return e[e.length-1]},n.stringReverse=function(e){return e.split("").reverse().join("")},n.stringRepeat=function(e,n){for(var r="";n>0;)1&n&&(r+=e),(n>>=1)&&(e+=e);return r};var o=/^\s\s*/,i=/\s\s*$/;n.stringTrimLeft=function(e){return e.replace(o,"")},n.stringTrimRight=function(e){return e.replace(i,"")},n.copyObject=function(e){var n={};for(var r in e)n[r]=e[r];return n},n.copyArray=function(e){for(var n=[],r=0,o=e.length;r<o;r++)e[r]&&"object"==typeof e[r]?n[r]=this.copyObject(e[r]):n[r]=e[r];return n},n.deepCopy=function deepCopy(e){if("object"!=typeof e||!e)return e;var n;if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=deepCopy(e[r]);return n}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var r in n={},e)n[r]=deepCopy(e[r]);return n},n.arrayToMap=function(e){for(var n={},r=0;r<e.length;r++)n[e[r]]=1;return n},n.createMap=function(e){var n=Object.create(null);for(var r in e)n[r]=e[r];return n},n.arrayRemove=function(e,n){for(var r=0;r<=e.length;r++)n===e[r]&&e.splice(r,1)},n.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},n.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},n.getMatchOffsets=function(e,n){var r=[];return e.replace(n,(function(e){r.push({offset:arguments[arguments.length-2],length:e.length})})),r},n.deferredCall=function(e){var n=null,callback=function(){n=null,e()},deferred=function(e){return deferred.cancel(),n=setTimeout(callback,e||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),e(),deferred},deferred.cancel=function(){return clearTimeout(n),n=null,deferred},deferred.isPending=function(){return n},deferred},n.delayedCall=function(e,n){var r=null,callback=function(){r=null,e()},_self=function(e){null==r&&(r=setTimeout(callback,e||n))};return _self.delay=function(e){r&&clearTimeout(r),r=setTimeout(callback,e||n)},_self.schedule=_self,_self.call=function(){this.cancel(),e()},_self.cancel=function(){r&&clearTimeout(r),r=null},_self.isPending=function(){return r},_self}})),ace.define("ace/apply_delta",[],(function(e,n,r){"use strict";n.applyDelta=function(e,n,r){var o=n.start.row,i=n.start.column,a=e[o]||"";switch(n.action){case"insert":if(1===n.lines.length)e[o]=a.substring(0,i)+n.lines[0]+a.substring(i);else{var s=[o,1].concat(n.lines);e.splice.apply(e,s),e[o]=a.substring(0,i)+e[o],e[o+n.lines.length-1]+=a.substring(i)}break;case"remove":var c=n.end.column,u=n.end.row;o===u?e[o]=a.substring(0,i)+a.substring(c):e.splice(o,u-o+1,a.substring(0,i)+e[u].substring(c))}}})),ace.define("ace/lib/event_emitter",[],(function(e,n,r){"use strict";var o={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(e,n){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var r=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(r.length||o){"object"==typeof n&&n||(n={}),n.type||(n.type=e),n.stopPropagation||(n.stopPropagation=stopPropagation),n.preventDefault||(n.preventDefault=preventDefault),r=r.slice();for(var i=0;i<r.length&&(r[i](n,this),!n.propagationStopped);i++);return o&&!n.defaultPrevented?o(n,this):void 0}},o._signal=function(e,n){var r=(this._eventRegistry||{})[e];if(r){r=r.slice();for(var o=0;o<r.length;o++)r[o](n,this)}},o.once=function(e,n){var r=this;if(this.on(e,(function newCallback(){r.off(e,newCallback),n.apply(null,arguments)})),!n)return new Promise((function(e){n=e}))},o.setDefaultHandler=function(e,n){var r=this._defaultHandlers;if(r||(r=this._defaultHandlers={_disabled_:{}}),r[e]){var o=r[e],i=r._disabled_[e];i||(r._disabled_[e]=i=[]),i.push(o);var a=i.indexOf(n);-1!=a&&i.splice(a,1)}r[e]=n},o.removeDefaultHandler=function(e,n){var r=this._defaultHandlers;if(r){var o=r._disabled_[e];if(r[e]==n)o&&this.setDefaultHandler(e,o.pop());else if(o){var i=o.indexOf(n);-1!=i&&o.splice(i,1)}}},o.on=o.addEventListener=function(e,n,r){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[e];return o||(o=this._eventRegistry[e]=[]),-1==o.indexOf(n)&&o[r?"unshift":"push"](n),n},o.off=o.removeListener=o.removeEventListener=function(e,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];if(r){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},o.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},n.EventEmitter=o})),ace.define("ace/range",[],(function(e,n,r){"use strict";var o=function(){function Range(e,n,r,o){this.start={row:e,column:n},this.end={row:r,column:o}}return Range.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},Range.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},Range.prototype.contains=function(e,n){return 0==this.compare(e,n)},Range.prototype.compareRange=function(e){var n,r=e.end,o=e.start;return 1==(n=this.compare(r.row,r.column))?1==(n=this.compare(o.row,o.column))?2:0==n?1:0:-1==n?-2:-1==(n=this.compare(o.row,o.column))?-1:1==n?42:0},Range.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},Range.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},Range.prototype.intersects=function(e){var n=this.compareRange(e);return-1==n||0==n||1==n},Range.prototype.isEnd=function(e,n){return this.end.row==e&&this.end.column==n},Range.prototype.isStart=function(e,n){return this.start.row==e&&this.start.column==n},Range.prototype.setStart=function(e,n){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=n)},Range.prototype.setEnd=function(e,n){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=n)},Range.prototype.inside=function(e,n){return 0==this.compare(e,n)&&(!this.isEnd(e,n)&&!this.isStart(e,n))},Range.prototype.insideStart=function(e,n){return 0==this.compare(e,n)&&!this.isEnd(e,n)},Range.prototype.insideEnd=function(e,n){return 0==this.compare(e,n)&&!this.isStart(e,n)},Range.prototype.compare=function(e,n){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?n>=this.start.column?0:-1:this.end.row===e?n<=this.end.column?0:1:0:n<this.start.column?-1:n>this.end.column?1:0},Range.prototype.compareStart=function(e,n){return this.start.row==e&&this.start.column==n?-1:this.compare(e,n)},Range.prototype.compareEnd=function(e,n){return this.end.row==e&&this.end.column==n?1:this.compare(e,n)},Range.prototype.compareInside=function(e,n){return this.end.row==e&&this.end.column==n?1:this.start.row==e&&this.start.column==n?-1:this.compare(e,n)},Range.prototype.clipRows=function(e,n){if(this.end.row>n)var r={row:n+1,column:0};else if(this.end.row<e)r={row:e,column:0};if(this.start.row>n)var o={row:n+1,column:0};else if(this.start.row<e)o={row:e,column:0};return Range.fromPoints(o||this.start,r||this.end)},Range.prototype.extend=function(e,n){var r=this.compare(e,n);if(0==r)return this;if(-1==r)var o={row:e,column:n};else var i={row:e,column:n};return Range.fromPoints(o||this.start,i||this.end)},Range.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},Range.prototype.isMultiLine=function(){return this.start.row!==this.end.row},Range.prototype.clone=function(){return Range.fromPoints(this.start,this.end)},Range.prototype.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},Range.prototype.toScreenRange=function(e){var n=e.documentToScreenPosition(this.start),r=e.documentToScreenPosition(this.end);return new Range(n.row,n.column,r.row,r.column)},Range.prototype.moveBy=function(e,n){this.start.row+=e,this.start.column+=n,this.end.row+=e,this.end.column+=n},Range}();o.fromPoints=function(e,n){return new o(e.row,e.column,n.row,n.column)},o.comparePoints=function(e,n){return e.row-n.row||e.column-n.column},o.comparePoints=function(e,n){return e.row-n.row||e.column-n.column},n.Range=o})),ace.define("ace/anchor",[],(function(e,n,r){"use strict";var o=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,a=function(){function Anchor(e,n,r){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===r?this.setPosition(n.row,n.column):this.setPosition(n,r)}return Anchor.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},Anchor.prototype.getDocument=function(){return this.document},Anchor.prototype.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=$getTransformedPoint(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},Anchor.prototype.setPosition=function(e,n,r){var o;if(o=r?{row:e,column:n}:this.$clipPositionToDocument(e,n),this.row!=o.row||this.column!=o.column){var i={row:this.row,column:this.column};this.row=o.row,this.column=o.column,this._signal("change",{old:i,value:o})}},Anchor.prototype.detach=function(){this.document.off("change",this.$onChange)},Anchor.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},Anchor.prototype.$clipPositionToDocument=function(e,n){var r={};return e>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):e<0?(r.row=0,r.column=0):(r.row=e,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,n))),n<0&&(r.column=0),r},Anchor}();function $pointsInOrder(e,n,r){var o=r?e.column<=n.column:e.column<n.column;return e.row<n.row||e.row==n.row&&o}function $getTransformedPoint(e,n,r){var o="insert"==e.action,i=(o?1:-1)*(e.end.row-e.start.row),a=(o?1:-1)*(e.end.column-e.start.column),s=e.start,c=o?s:e.end;return $pointsInOrder(n,s,r)?{row:n.row,column:n.column}:$pointsInOrder(c,n,!r)?{row:n.row+i,column:n.column+(n.row==c.row?a:0)}:{row:s.row,column:s.column}}a.prototype.$insertRight=!1,o.implement(a.prototype,i),n.Anchor=a})),ace.define("ace/document",[],(function(e,n,r){"use strict";var o=e("./lib/oop"),i=e("./apply_delta").applyDelta,a=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,c=e("./anchor").Anchor,u=function(){function Document(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return Document.prototype.setValue=function(e){var n=this.getLength()-1;this.remove(new s(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},e||"")},Document.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},Document.prototype.createAnchor=function(e,n){return new c(this,e,n)},Document.prototype.$detectNewLine=function(e){var n=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:"\n",this._signal("changeNewLineMode")},Document.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},Document.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},Document.prototype.getNewLineMode=function(){return this.$newLineMode},Document.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},Document.prototype.getLine=function(e){return this.$lines[e]||""},Document.prototype.getLines=function(e,n){return this.$lines.slice(e,n+1)},Document.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},Document.prototype.getLength=function(){return this.$lines.length},Document.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},Document.prototype.getLinesForRange=function(e){var n;if(e.start.row===e.end.row)n=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(n=this.getLines(e.start.row,e.end.row))[0]=(n[0]||"").substring(e.start.column);var r=n.length-1;e.end.row-e.start.row==r&&(n[r]=n[r].substring(0,e.end.column))}return n},Document.prototype.insertLines=function(e,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,n)},Document.prototype.removeLines=function(e,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,n)},Document.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},Document.prototype.insert=function(e,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(e,this.$split(n))},Document.prototype.insertInLine=function(e,n){var r=this.clippedPos(e.row,e.column),o=this.pos(e.row,e.column+n.length);return this.applyDelta({start:r,end:o,action:"insert",lines:[n]},!0),this.clonePos(o)},Document.prototype.clippedPos=function(e,n){var r=this.getLength();void 0===e?e=r:e<0?e=0:e>=r&&(e=r-1,n=void 0);var o=this.getLine(e);return null==n&&(n=o.length),{row:e,column:n=Math.min(Math.max(n,0),o.length)}},Document.prototype.clonePos=function(e){return{row:e.row,column:e.column}},Document.prototype.pos=function(e,n){return{row:e,column:n}},Document.prototype.$clipPosition=function(e){var n=this.getLength();return e.row>=n?(e.row=Math.max(0,n-1),e.column=this.getLine(n-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},Document.prototype.insertFullLines=function(e,n){var r=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(n=n.concat([""]),r=0):(n=[""].concat(n),e--,r=this.$lines[e].length),this.insertMergedLines({row:e,column:r},n)},Document.prototype.insertMergedLines=function(e,n){var r=this.clippedPos(e.row,e.column),o={row:r.row+n.length-1,column:(1==n.length?r.column:0)+n[n.length-1].length};return this.applyDelta({start:r,end:o,action:"insert",lines:n}),this.clonePos(o)},Document.prototype.remove=function(e){var n=this.clippedPos(e.start.row,e.start.column),r=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:n,end:r,action:"remove",lines:this.getLinesForRange({start:n,end:r})}),this.clonePos(n)},Document.prototype.removeInLine=function(e,n,r){var o=this.clippedPos(e,n),i=this.clippedPos(e,r);return this.applyDelta({start:o,end:i,action:"remove",lines:this.getLinesForRange({start:o,end:i})},!0),this.clonePos(o)},Document.prototype.removeFullLines=function(e,n){e=Math.min(Math.max(0,e),this.getLength()-1);var r=(n=Math.min(Math.max(0,n),this.getLength()-1))==this.getLength()-1&&e>0,o=n<this.getLength()-1,i=r?e-1:e,a=r?this.getLine(i).length:0,c=o?n+1:n,u=o?0:this.getLine(c).length,l=new s(i,a,c,u),d=this.$lines.slice(e,n+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),d},Document.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},Document.prototype.replace=function(e,n){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===n.length&&e.isEmpty()?e.start:n==this.getTextRange(e)?e.end:(this.remove(e),n?this.insert(e.start,n):e.start)},Document.prototype.applyDeltas=function(e){for(var n=0;n<e.length;n++)this.applyDelta(e[n])},Document.prototype.revertDeltas=function(e){for(var n=e.length-1;n>=0;n--)this.revertDelta(e[n])},Document.prototype.applyDelta=function(e,n){var r="insert"==e.action;(r?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(r&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,n),this._signal("change",e)))},Document.prototype.$safeApplyDelta=function(e){var n=this.$lines.length;("remove"==e.action&&e.start.row<n&&e.end.row<n||"insert"==e.action&&e.start.row<=n)&&this.applyDelta(e)},Document.prototype.$splitAndapplyLargeDelta=function(e,n){for(var r=e.lines,o=r.length-n+1,i=e.start.row,a=e.start.column,s=0,c=0;s<o;s=c){c+=n-1;var u=r.slice(s,c);u.push(""),this.applyDelta({start:this.pos(i+s,a),end:this.pos(i+c,a=0),action:e.action,lines:u},!0)}e.lines=r.slice(s),e.start.row=i+s,e.start.column=a,this.applyDelta(e,!0)},Document.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},Document.prototype.indexToPosition=function(e,n){for(var r=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,i=n||0,a=r.length;i<a;i++)if((e-=r[i].length+o)<0)return{row:i,column:e+r[i].length+o};return{row:a-1,column:e+r[a-1].length+o}},Document.prototype.positionToIndex=function(e,n){for(var r=this.$lines||this.getAllLines(),o=this.getNewLineCharacter().length,i=0,a=Math.min(e.row,r.length),s=n||0;s<a;++s)i+=r[s].length+o;return i+e.column},Document}();u.prototype.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},u.prototype.$autoNewLine="",u.prototype.$newLineMode="auto",o.implement(u.prototype,a),n.Document=u})),ace.define("ace/worker/mirror",[],(function(e,n,r){"use strict";var o=e("../document").Document,i=e("../lib/lang"),a=n.Mirror=function(e){this.sender=e;var n=this.doc=new o(""),r=this.deferredUpdate=i.delayedCall(this.onUpdate.bind(this)),a=this;e.on("change",(function(e){var o=e.data;if(o[0].start)n.applyDeltas(o);else for(var i=0;i<o.length;i+=2){var s,c;if(("insert"==(s=Array.isArray(o[i+1])?{action:"insert",start:o[i],lines:o[i+1]}:{action:"remove",start:o[i],end:o[i+1]}).action?s.start:s.end).row>=n.$lines.length)throw(c=new Error("Invalid delta")).data={path:a.$path,linesLength:n.$lines.length,start:s.start,end:s.end},c;n.applyDelta(s,!0)}if(a.$timeout)return r.schedule(a.$timeout);a.onUpdate()}))};(function(){this.$timeout=500,this.setTimeout=function(e){this.$timeout=e},this.setValue=function(e){this.doc.setValue(e),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(e){this.sender.callback(this.doc.getValue(),e)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(a.prototype)})),ace.define("ace/mode/xml/sax",[],(function(e,n,r){var o=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+o.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),a=new RegExp("^"+o.source+i.source+"*(?::"+o.source+i.source+"*)?$");function XMLReader(){}function parse(e,n,r,o,i){function fixedFromCharCode(e){if(e>65535){var n=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(n,r)}return String.fromCharCode(e)}function entityReplacer(e){var n=e.slice(1,-1);return n in r?r[n]:"#"===n.charAt(0)?fixedFromCharCode(parseInt(n.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function appendText(n){var r=e.substring(h,n).replace(/&#?\w+;/g,entityReplacer);u&&position(h),o.characters(r,0,n-h),h=n}function position(n,r){for(;n>=s&&(r=c.exec(e));)a=r.index,s=a+r[0].length,u.lineNumber++;u.columnNumber=n-a+1}for(var a=0,s=0,c=/.+(?:\r\n?|\n)|.*$/g,u=o.locator,l=[{currentNSMap:n}],d={},h=0;;){if((E=e.indexOf("<",h))<0){if(!e.substr(h).match(/^\s*$/)){var m=o.document,f=m.createTextNode(e.substr(h));m.appendChild(f),o.currentElement=f}return}switch(E>h&&appendText(E),e.charAt(E+1)){case"/":var g,w=e.indexOf(">",E+3),v=e.substring(E+2,w);if(!(l.length>1)){i.fatalError("end tag name not found for: "+v);break}var N=(g=l.pop()).localNSMap;if(g.tagName!=v&&i.fatalError("end tag name: "+v+" does not match the current start tagName: "+g.tagName),o.endElement(g.uri,g.localName,v),N)for(var y in N)o.endPrefixMapping(y);w++;break;case"?":u&&position(E),w=parseInstruction(e,E,o);break;case"!":u&&position(E),w=parseDCC(e,E,o,i);break;default:try{u&&position(E);var D=new ElementAttributes,_=(w=parseElementStartPart(e,E,D,entityReplacer,i),D.length);if(_&&u){for(var b=copyLocator(u,{}),E=0;E<_;E++){var x=D[E];position(x.offset),x.offset=copyLocator(u,{})}copyLocator(b,u)}!D.closed&&fixSelfClosed(e,w,D.tagName,d)&&(D.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),appendElement(D,o,l),"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?w++:w=parseHtmlSpecialContent(e,w,D.tagName,entityReplacer,o)}catch(e){i.error("element parse error: "+e),w=-1}}w<0?appendText(E+1):h=w}}function copyLocator(e,n){return n.lineNumber=e.lineNumber,n.columnNumber=e.columnNumber,n}function parseElementStartPart(e,n,r,o,i){for(var a,s=++n,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)a=e.slice(n,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c){if(n=s+1,!((s=e.indexOf(u,n))>0))throw new Error("attribute value no end '"+u+"' match");l=e.slice(n,s).replace(/&#?\w+;/g,o),r.add(a,l,n-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(n,s).replace(/&#?\w+;/g,o),r.add(a,l,n),i.warning('attribute "'+a+'" missed start quot('+u+")!!"),n=s+1,c=5}break;case"/":switch(c){case 0:r.setTagName(e.slice(n,s));case 5:case 6:case 7:c=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(c){case 0:r.setTagName(e.slice(n,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(n,s)).slice(-1)&&(r.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=a),4==c?(i.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l.replace(/&#?\w+;/g,o),n)):(i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),r.add(l,l,n));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(c){case 0:r.setTagName(e.slice(n,s)),c=6;break;case 1:a=e.slice(n,s),c=2;break;case 4:var l=e.slice(n,s).replace(/&#?\w+;/g,o);i.warning('attribute "'+l+'" missed quot(")!!'),r.add(a,l,n);case 5:c=6}else switch(c){case 2:i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),r.add(a,a,n),n=s,c=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:c=1,n=s;break;case 3:c=4,n=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function appendElement(e,n,r){for(var o=e.tagName,i=null,a=r[r.length-1].currentNSMap,s=e.length;s--;){var c=e[s],u=c.qName,l=c.value;if((f=u.indexOf(":"))>0)var d=c.prefix=u.slice(0,f),h=u.slice(f+1),m="xmlns"===d&&h;else h=u,d=null,m="xmlns"===u&&"";c.localName=h,!1!==m&&(null==i&&(i={},_copy(a,a={})),a[m]=i[m]=l,c.uri="http://www.w3.org/2000/xmlns/",n.startPrefixMapping(m,l))}for(s=e.length;s--;){(d=(c=e[s]).prefix)&&("xml"===d&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==d&&(c.uri=a[d]))}var f;(f=o.indexOf(":"))>0?(d=e.prefix=o.slice(0,f),h=e.localName=o.slice(f+1)):(d=null,h=e.localName=o);var g=e.uri=a[d||""];if(n.startElement(g,h,o,e),e.closed){if(n.endElement(g,h,o),i)for(d in i)n.endPrefixMapping(d)}else e.currentNSMap=a,e.localNSMap=i,r.push(e)}function parseHtmlSpecialContent(e,n,r,o,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",n),s=e.substring(n+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,o),i.characters(s,0,s.length),a)}return n+1}function fixSelfClosed(e,n,r,o){var i=o[r];return null==i&&(i=o[r]=e.lastIndexOf("</"+r+">")),i<n}function _copy(e,n){for(var r in e)n[r]=e[r]}function parseDCC(e,n,r,o){var i;if("-"===e.charAt(n+2))return"-"===e.charAt(n+3)?(i=e.indexOf("--\x3e",n+4))>n?(r.comment(e,n+4,i-n-4),i+3):(o.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(n+3,6))return(i=e.indexOf("]]>",n+9))>n?(r.startCDATA(),r.characters(e,n+9,i-n-9),r.endCDATA(),i+3):(o.error("Unclosed CDATA"),-1);var a=split(e,n),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var c=a[1][0],u=s>3&&/^public$/i.test(a[2][0])&&a[3][0],l=s>4&&a[4][0],d=a[s-1];return r.startDTD(c,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),d.index+d[0].length}return-1}function parseInstruction(e,n,r){var o=e.indexOf("?>",n);if(o){var i=e.substring(n,o).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),o+2}return-1}return-1}function ElementAttributes(e){}function _set_proto_(e,n){return e.__proto__=n,e}function split(e,n){var r,o=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=n,i.exec(e);r=i.exec(e);)if(o.push(r),r[1])return o}return XMLReader.prototype={parse:function(e,n,r){var o=this.domBuilder;o.startDocument(),_copy(n,n={}),parse(e,n,r,o,this.errorHandler),o.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,n,r){if(!a.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:n,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,n){function p(){}for(n in p.prototype=n,p=new p,e)p[n]=e[n];return p}),XMLReader})),ace.define("ace/mode/xml/dom",[],(function(e,n,r){function copy(e,n){for(var r in e)n[r]=e[r]}function _extends(e,n){var t=function(){},r=e.prototype;if(Object.create){var o=Object.create(n.prototype);r.__proto__=o}r instanceof n||(t.prototype=n.prototype,copy(r,t=new t),e.prototype=r=t),r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var o={},i=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,s=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,u=o.ENTITY_REFERENCE_NODE=5,l=o.ENTITY_NODE=6,d=o.PROCESSING_INSTRUCTION_NODE=7,h=o.COMMENT_NODE=8,m=o.DOCUMENT_NODE=9,f=o.DOCUMENT_TYPE_NODE=10,g=o.DOCUMENT_FRAGMENT_NODE=11,w=o.NOTATION_NODE=12,v={},N={},y=(v.INDEX_SIZE_ERR=(N[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3),v.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7),v.NOT_FOUND_ERR=(N[8]="Not found",8)),D=(v.NOT_SUPPORTED_ERR=(N[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10));v.INVALID_STATE_ERR=(N[11]="Invalid state",11),v.SYNTAX_ERR=(N[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),v.NAMESPACE_ERR=(N[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function DOMException(e,n){if(n instanceof Error)var r=n;else r=this,Error.call(this,N[e]),this.message=N[e],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return r.code=e,n&&(this.message=this.message+": "+n),r}function NodeList(){}function LiveNodeList(e,n){this._node=e,this._refresh=n,_updateLiveList(this)}function _updateLiveList(e){var n=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=n){var r=e._refresh(e._node);__set__(e,"length",r.length),copy(r,e),e._inc=n}}function NamedNodeMap(){}function _findNodeIndex(e,n){for(var r=e.length;r--;)if(e[r]===n)return r}function _addNamedNode(e,n,r,o){if(o?n[_findNodeIndex(n,o)]=r:n[n.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(o&&_onRemoveAttribute(i,e,o),_onAddAttribute(i,e,r))}}function _removeNamedNode(e,n,r){var o=_findNodeIndex(n,r);if(!(o>=0))throw new DOMException(y,new Error);for(var i=n.length-1;o<i;)n[o]=n[++o];if(n.length=i,e){var a=e.ownerDocument;a&&(_onRemoveAttribute(a,e,r),r.ownerElement=null)}}function DOMImplementation(e){if(this._features={},e)for(var n in e)this._features=e[n]}function Node(){}function _xmlEncoder(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function _visitNode(e,n){if(n(e))return!0;if(e=e.firstChild)do{if(_visitNode(e,n))return!0}while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(n._nsMap[r.prefix?r.localName:""]=r.value)}function _onRemoveAttribute(e,n,r,o){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete n._nsMap[r.prefix?r.localName:""]}function _onUpdateChild(e,n,r){if(e&&e._inc){e._inc++;var o=n.childNodes;if(r)o[o.length++]=r;else{for(var i=n.firstChild,a=0;i;)o[a++]=i,i=i.nextSibling;o.length=a}}}function _removeChild(e,n){var r=n.previousSibling,o=n.nextSibling;return r?r.nextSibling=o:e.firstChild=o,o?o.previousSibling=r:e.lastChild=r,_onUpdateChild(e.ownerDocument,e),n}function _insertBefore(e,n,r){var o=n.parentNode;if(o&&o.removeChild(n),n.nodeType===g){var i=n.firstChild;if(null==i)return n;var a=n.lastChild}else i=a=n;var s=r?r.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=r,s?s.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return _onUpdateChild(e.ownerDocument||e,e),n.nodeType==g&&(n.firstChild=n.lastChild=null),n}function _appendSingleChild(e,n){var r=n.parentNode;if(r){var o=e.lastChild;r.removeChild(n);o=e.lastChild}o=e.lastChild;return n.parentNode=e,n.previousSibling=o,n.nextSibling=null,o?o.nextSibling=n:e.firstChild=n,e.lastChild=n,_onUpdateChild(e.ownerDocument,e,n),n}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function serializeToString(e,n){switch(e.nodeType){case i:var r=e.attributes,o=r.length,l=e.firstChild,w=e.tagName,v="http://www.w3.org/1999/xhtml"===e.namespaceURI;n.push("<",w);for(var N=0;N<o;N++)serializeToString(r.item(N),n);if(l||v&&!/^(?:meta|link|img|br|hr|input|button)$/i.test(w)){if(n.push(">"),v&&/^script$/i.test(w))l&&n.push(l.data);else for(;l;)serializeToString(l,n),l=l.nextSibling;n.push("</",w,">")}else n.push("/>");return;case m:case g:for(l=e.firstChild;l;)serializeToString(l,n),l=l.nextSibling;return;case a:return n.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_xmlEncoder),'"');case s:return n.push(e.data.replace(/[<&]/g,_xmlEncoder));case c:return n.push("<![CDATA[",e.data,"]]>");case h:return n.push("\x3c!--",e.data,"--\x3e");case f:var y=e.publicId,D=e.systemId;if(n.push("<!DOCTYPE ",e.name),y)n.push(' PUBLIC "',y),D&&"."!=D&&n.push('" "',D),n.push('">');else if(D&&"."!=D)n.push(' SYSTEM "',D,'">');else{var _=e.internalSubset;_&&n.push(" [",_,"]"),n.push(">")}return;case d:return n.push("<?",e.target," ",e.data,"?>");case u:return n.push("&",e.nodeName,";");default:n.push("??",e.nodeName)}}function importNode(e,n,r){var o;switch(n.nodeType){case i:(o=n.cloneNode(!1)).ownerDocument=e;case g:break;case a:r=!0}if(o||(o=n.cloneNode(!1)),o.ownerDocument=e,o.parentNode=null,r)for(var s=n.firstChild;s;)o.appendChild(importNode(e,s,r)),s=s.nextSibling;return o}function cloneNode(e,n,r){var o=new n.constructor;for(var s in n){var c=n[s];"object"!=typeof c&&c!=o[s]&&(o[s]=c)}switch(n.childNodes&&(o.childNodes=new NodeList),o.ownerDocument=e,o.nodeType){case i:var u=n.attributes,l=o.attributes=new NamedNodeMap,d=u.length;l._ownerElement=o;for(var h=0;h<d;h++)o.setAttributeNode(cloneNode(e,u.item(h),!0));break;case a:r=!0}if(r)for(var m=n.firstChild;m;)o.appendChild(cloneNode(e,m,r)),m=m.nextSibling;return o}function __set__(e,n,r){e[n]=r}function getTextContent(e){switch(e.nodeType){case 1:case 11:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(getTextContent(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}DOMException.prototype=Error.prototype,copy(v,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var n=this.length;n--;){var r=this[n];if(r.nodeName==e)return r}},setNamedItem:function(e){var n=e.ownerElement;if(n&&n!=this._ownerElement)throw new DOMException(D);var r=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var n,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new DOMException(D);return n=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var n=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,n),n},removeNamedItemNS:function(e,n){var r=this.getNamedItemNS(e,n);return _removeNamedNode(this._ownerElement,this,r),r},getNamedItemNS:function(e,n){for(var r=this.length;r--;){var o=this[r];if(o.localName==n&&o.namespaceURI==e)return o}return null}},DOMImplementation.prototype={hasFeature:function(e,n){var r=this._features[e.toLowerCase()];return!(!r||n&&!(n in r))},createDocument:function(e,n,r){var o=new Document;if(o.implementation=this,o.childNodes=new NodeList,o.doctype=r,r&&o.appendChild(r),n){var i=o.createElementNS(e,n);o.appendChild(i)}return o},createDocumentType:function(e,n,r){var o=new DocumentType;return o.name=e,o.nodeName=e,o.publicId=n,o.systemId=r,o}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,n){return _insertBefore(this,e,n)},replaceChild:function(e,n){this.insertBefore(e,n),n&&this.removeChild(n)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var n=e.nextSibling;n&&n.nodeType==s&&e.nodeType==s?(this.removeChild(n),e.appendData(n.data)):(e.normalize(),e=n)}},isSupported:function(e,n){return this.ownerDocument.implementation.hasFeature(e,n)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var n=this;n;){var r=n._nsMap;if(r)for(var o in r)if(r[o]==e)return o;n=2==n.nodeType?n.ownerDocument:n.parentNode}return null},lookupNamespaceURI:function(e){for(var n=this;n;){var r=n._nsMap;if(r&&e in r)return r[e];n=2==n.nodeType?n.ownerDocument:n.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},copy(o,Node),copy(o,Node.prototype),Document.prototype={nodeName:"#document",nodeType:m,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,n){if(e.nodeType==g){for(var r=e.firstChild;r;){var o=r.nextSibling;this.insertBefore(r,n),r=o}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),_insertBefore(this,e,n),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),_removeChild(this,e)},importNode:function(e,n){return importNode(this,e,n)},getElementById:function(e){var n=null;return _visitNode(this.documentElement,(function(r){if(1==r.nodeType&&r.getAttribute("id")==e)return n=r,!0})),n},createElement:function(e){var n=new Element;return n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.childNodes=new NodeList,(n.attributes=new NamedNodeMap)._ownerElement=n,n},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var n=new Text;return n.ownerDocument=this,n.appendData(e),n},createComment:function(e){var n=new Comment;return n.ownerDocument=this,n.appendData(e),n},createCDATASection:function(e){var n=new CDATASection;return n.ownerDocument=this,n.appendData(e),n},createProcessingInstruction:function(e,n){var r=new ProcessingInstruction;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=n,r},createAttribute:function(e){var n=new Attr;return n.ownerDocument=this,n.name=e,n.nodeName=e,n.localName=e,n.specified=!0,n},createEntityReference:function(e){var n=new EntityReference;return n.ownerDocument=this,n.nodeName=e,n},createElementNS:function(e,n){var r=new Element,o=n.split(":"),i=r.attributes=new NamedNodeMap;return r.childNodes=new NodeList,r.ownerDocument=this,r.nodeName=n,r.tagName=n,r.namespaceURI=e,2==o.length?(r.prefix=o[0],r.localName=o[1]):r.localName=n,i._ownerElement=r,r},createAttributeNS:function(e,n){var r=new Attr,o=n.split(":");return r.ownerDocument=this,r.nodeName=n,r.name=n,r.namespaceURI=e,r.specified=!0,2==o.length?(r.prefix=o[0],r.localName=o[1]):r.localName=n,r}},_extends(Document,Node),Element.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var n=this.getAttributeNode(e);return n&&n.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,n){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},removeAttribute:function(e){var n=this.getAttributeNode(e);n&&this.removeAttributeNode(n)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,n){var r=this.getAttributeNodeNS(e,n);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,n){return null!=this.getAttributeNodeNS(e,n)},getAttributeNS:function(e,n){var r=this.getAttributeNodeNS(e,n);return r&&r.value||""},setAttributeNS:function(e,n,r){var o=this.ownerDocument.createAttributeNS(e,n);o.value=o.nodeValue=""+r,this.setAttributeNode(o)},getAttributeNodeNS:function(e,n){return this.attributes.getNamedItemNS(e,n)},getElementsByTagName:function(e){return new LiveNodeList(this,(function(n){var r=[];return _visitNode(n,(function(o){o===n||o.nodeType!=i||"*"!==e&&o.tagName!=e||r.push(o)})),r}))},getElementsByTagNameNS:function(e,n){return new LiveNodeList(this,(function(r){var o=[];return _visitNode(r,(function(a){a===r||a.nodeType!==i||"*"!==e&&a.namespaceURI!==e||"*"!==n&&a.localName!=n||o.push(a)})),o}))}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=a,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,n){return this.data.substring(e,e+n)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,n){this.replaceData(e,0,n)},appendChild:function(e){throw new Error(N[3])},deleteData:function(e,n){this.replaceData(e,n,"")},replaceData:function(e,n,r){r=this.data.substring(0,e)+r+this.data.substring(e+n),this.nodeValue=this.data=r,this.length=r.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var n=this.data,r=n.substring(e);n=n.substring(0,e),this.data=this.nodeValue=n,this.length=n.length;var o=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:h},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:c},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=f,_extends(DocumentType,Node),Notation.prototype.nodeType=w,_extends(Notation,Node),Entity.prototype.nodeType=l,_extends(Entity,Node),EntityReference.prototype.nodeType=u,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=g,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=d,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(e){var n=[];return serializeToString(e,n),n.join("")},Node.prototype.toString=function(){return XMLSerializer.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}}),__set__=function(e,n,r){e["$$"+n]=r})}catch(e){}return DOMImplementation})),ace.define("ace/mode/xml/dom-parser",[],(function(e,n,r){"use strict";var o=e("./sax"),i=e("./dom");function DOMParser(e){this.options=e||{locator:{}}}function buildErrorHandler(e,n,r){if(!e){if(n instanceof DOMHandler)return n;e=n}var o={},i=e instanceof Function;function build(n){var a=e[n];if(!a)if(i)a=2==e.length?function(r){e(n,r)}:e;else for(var s=arguments.length;--s&&!(a=e[arguments[s]]););o[n]=a&&function(e){a(e+_locator(r),e,r)}||function(){}}return r=r||{},build("warning","warn"),build("error","warn","warning"),build("fatalError","warn","warning","error"),o}function DOMHandler(){this.cdata=!1}function position(e,n){n.lineNumber=e.lineNumber,n.columnNumber=e.columnNumber}function _locator(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function _toString(e,n,r){return"string"==typeof e?e.substr(n,r):e.length>=n+r||n?new java.lang.String(e,n,r)+"":e}function appendElement(e,n){e.currentElement?e.currentElement.appendChild(n):e.document.appendChild(n)}return DOMParser.prototype.parseFromString=function(e,n){var r=this.options,i=new o,a=r.domBuilder||new DOMHandler,s=r.errorHandler,c=r.locator,u=r.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&a.setDocumentLocator(c),i.errorHandler=buildErrorHandler(s,a,c),i.domBuilder=r.domBuilder||a,/\/x?html?$/.test(n)&&(l.nbsp=" ",l.copy="©",u[""]="http://www.w3.org/1999/xhtml"),e?i.parse(e,u,l):i.errorHandler.error("invalid document source"),a.document},DOMHandler.prototype={startDocument:function(){this.document=(new i).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(e,n,r,o){var i=this.document,a=i.createElementNS(e,r||n),s=o.length;appendElement(this,a),this.currentElement=a,this.locator&&position(this.locator,a);for(var c=0;c<s;c++){e=o.getURI(c);var u=o.getValue(c),l=(r=o.getQName(c),i.createAttributeNS(e,r));l.getOffset&&position(l.getOffset(1),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},endElement:function(e,n,r){var o=this.currentElement;o.tagName;this.currentElement=o.parentNode},startPrefixMapping:function(e,n){},endPrefixMapping:function(e){},processingInstruction:function(e,n){var r=this.document.createProcessingInstruction(e,n);this.locator&&position(this.locator,r),appendElement(this,r)},ignorableWhitespace:function(e,n,r){},characters:function(e,n,r){if(e=_toString.apply(this,arguments),this.currentElement&&e){if(this.cdata){var o=this.document.createCDATASection(e);this.currentElement.appendChild(o)}else{o=this.document.createTextNode(e);this.currentElement.appendChild(o)}this.locator&&position(this.locator,o)}},skippedEntity:function(e){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,n,r){e=_toString.apply(this,arguments);var o=this.document.createComment(e);this.locator&&position(this.locator,o),appendElement(this,o)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,n,r){var o=this.document.implementation;if(o&&o.createDocumentType){var i=o.createDocumentType(e,n,r);this.locator&&position(this.locator,i),appendElement(this,i)}},warning:function(e){console.warn(e,_locator(this.locator))},error:function(e){console.error(e,_locator(this.locator))},fatalError:function(e){throw console.error(e,_locator(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){DOMHandler.prototype[e]=function(){return null}})),{DOMParser:DOMParser}})),ace.define("ace/mode/xml_worker",[],(function(e,n,r){"use strict";var o=e("../lib/oop"),i=(e("../lib/lang"),e("../worker/mirror").Mirror),a=e("./xml/dom-parser").DOMParser,s=n.Worker=function(e){i.call(this,e),this.setTimeout(400),this.context=null};o.inherits(s,i),function(){this.setOptions=function(e){this.context=e.context},this.onUpdate=function(){var e=this.doc.getValue();if(e){var n=new a,r=[];n.options.errorHandler={fatalError:function(e,n,o){r.push({row:o.lineNumber,column:o.columnNumber,text:n,type:"error"})},error:function(e,n,o){r.push({row:o.lineNumber,column:o.columnNumber,text:n,type:"error"})},warning:function(e,n,o){r.push({row:o.lineNumber,column:o.columnNumber,text:n,type:"warning"})}},n.parseFromString(e),this.sender.emit("error",r)}}}.call(s.prototype)}));